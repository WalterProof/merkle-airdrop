<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Merkle Airdrop{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
        {% endblock %}

        {% block javascripts %}
            {{ importmap() }}
        {% endblock %}
    </head>
    <body>
    <div class="flex flex-col h-screen">
        <div class="flex-grow pb-8">
            <div class="bg-blue-400">
                <nav class="container mx-auto text-white">
                    <div class="max-w-screen-xl flex flex-wrap items-center justify-between p-4">
                        <a href="{{ path('app_home') }}" class="self-center text-2xl font-semibold whitespace-nowrap">Tezos Airdrops</a>
                        {% if is_granted('ROLE_MEMBER') %}
                            <div x-data="profile" class="flex items-center md:order-2">
                                <button @click="$float({offset: 10}, {trap: true})" type="button" class="flex mr-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
                                    <span class="sr-only">Open user menu</span>
                                    <img class="w-8 h-8 rounded-full" src="https://pbs.twimg.com/profile_images/1660739913631817728/WM93OmoG_reasonably_small.jpg" alt="user photo">
                                </button>
                                <div x-ref="panel" class="panel z-50 my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600" id="user-dropdown">
                                    <div class="px-4 py-3">
                                        <span class="block text-sm text-gray-900 dark:text-white"><?= $this->Tz->shortenAddress($this->Identity->get('address')) ?></span>
                                        <span class="block text-sm  text-gray-500 truncate dark:text-gray-400">
                                            <!-- <?= $this->request->getSession()->read('network', 'local') ?> -->
                                            <!-- <?= $this->cell('Balance', [], [ -->
                                            <!--     'cache' => ['config' => 'short', 'key' => 'inbox_' . $this->Identity->get('address')] -->
                                            <!-- ]) ?> -->
                                        </span>
                                    </div>
                                    <ul class="py-2" aria-labelledby="user-menu-button">
                                        <li>
                                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Dashboard</a>
                                        </li>
                                        <li>
                                            <a href="{{ path('app_member_area') }}">Settings</a>
                                        </li>
                                        <li>
                                            <a href="{{ path('app_logout') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Sign out</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        {% else %}
                            <div x-data="beacon" class="flex items-center md:order-2">
                                <button>Sync</button>
                                <span x-show="error" class="text-red-600 font-semibold"><span x-text="error"></span></span>
                            </div>
                        {% endif %}
                        <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1 md:ml-20" id="mobile-menu-2">
                            <ul class="flex flex-col font-medium p-4 md:p-0 mt-4 md:flex-row md:space-x-8 md:mt-0 md:border-0">
                                {% if is_granted('ROLE_MEMBER') %}
                                    <li>
                                            <a href="#">Airdrops</a>
                                    </li>
                                    <li>
                                            <a href="#">Airdrops Recipients</a>
                                    </li>
                                    <li>
                                            <a href="#">Tokens</a>
                                    </li>
                                    <li>
                                            <a href="#">Recipients</a>
                                    </li>
                              {% endif %}
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <main class="container mx-auto">
                <div class="container">
        {% block body %}{% endblock %}
                </div>
            </main>
        </div>
        <footer class="bg-blue-500 text-white">
            <div class="container mx-auto">
                <div class="flex flex-row py-4">
                    https://github.com/der-alter/merkle-airdrop
                </div>
            </div>
        </footer>
    </div>
    </body>
</html>
